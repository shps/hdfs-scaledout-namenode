<?xml version="1.0" encoding="UTF-8"?>
<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" 
   "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml"   
      xmlns:h="http://java.sun.com/jsf/html"
      xmlns:p="http://primefaces.org/ui"
      xmlns:f="http://java.sun.com/jsf/core"      
      >

   <h:head>
      <title>Test Page 3</title>
      <link rel="stylesheet" type="text/css" href="#{resource['/css/layout.css']}" />

   </h:head>

   <h:body>
      <p>Test 3</p>



      <h:form >        
         <p:dialog id="modalDialog" appendToBody="true" header="Star/stop service(s)" widgetVar="dlgstartstop" modal="true" width="800" height="200">

            <p:dataTable id="instances" var="s" value="#{executeCommandController.services}">

               <p:column headerText="Command" style="width: 1px"><h:outputText value="#{s.service}"/></p:column>
               <p:column headerText="Progress">
                  <p:progressBar widgetVar="prog2" value="#{executeCommandController.progressValue(s)}" ajax="true" labelTemplate="{value}%" styleClass="animated" interval ="500"/>     
               </p:column>

            </p:dataTable> 

         </p:dialog>                      
      </h:form> 


      <h:form id="test" >                 
         <p:commandButton id="modalDialogButton" value="Test 2" actionListener="#{executeCommandController.doCommandTest}" ajax="true" onclick="dlgstartstop.show();prog2.setValue(0);prog2.start()">
         </p:commandButton>                 
      </h:form>            



   </h:body>

</html>

